---
import { Icon } from "astro-icon/components";
const { faq, index } = Astro.props;
---

<div class="group">
	<details
		class="bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-300 hover:shadow-lg"
	>
		<summary
			class="flex items-center justify-between cursor-pointer p-6 font-semibold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors list-none"
		>
			<div class="flex items-start gap-4 flex-1">
				<span
					class="shrink-0 w-8 h-8 rounded-full bg-linear-to-br from-blue-500 to-orange-500 dark:from-blue-600 dark:to-accent flex items-center justify-center text-white text-sm font-bold"
				>
					{index + 1}
				</span>
				<span class="text-lg font-titles pr-4">
					{faq.question}
				</span>
			</div>
			<Icon
				name="tabler-chevron-down"
				class="w-6 h-6 shrink-0 text-gray-400 dark:text-gray-500 transition-transform duration-300 group-open:rotate-180"
			/>
		</summary>
		<div class="px-6 pb-6 pt-2 ml-12">
			<p
				class="text-gray-600 dark:text-gray-300 font-body leading-relaxed"
			>
				{faq.answer}
			</p>
		</div>
	</details>
</div>
<style>
    details[open] summary ~ * {
        animation: slideDown 0.3s ease-out;
    }
    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    summary::-webkit-details-marker {
        display: none;
    }
</style>

<script>
    document.querySelectorAll('details').forEach((detail) => {
        detail.addEventListener('toggle', () => {
            if (detail.open) {
                setTimeout(() => {
                    detail.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }, 300);
            }
        });
    });
</script>

